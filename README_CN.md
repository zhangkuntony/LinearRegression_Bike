# 用线性回归预测共享单车的需求

## 数据集介绍

本次使用的数据集来源于加利福尼亚大学欧文分校（UCI）大学的公开[数据集](https://archive.ics.uci.edu/ml/datasets/Bike+Sharing+Dataset)，

关于本次数据集的各种信息可以参考该网站，同时也可以直接从该网站下载和使用数据集。不过这个共享单车数据集是固定桩形式，还是有别于我们常用的小蓝、小黄等单车，且数据集收集时间在2011-2012年,数据分为按日和按小时。

细节描述如下：

- instant：记录索引
- dteday：日期
- season：季节（1：春　2：夏　3：秋　4：冬）
- yr：年份（0：2011，1：2012）
- mnth：月份（1～12）
- hr：小时（0～23）
- holiday：是否是假期
- weekday：工作日
- workingday：如果既不是周末也不是假期则值为1，否则为0
- weathersit：
    1. 晴朗，云层很少，部分多云
    2. 薄雾+多云，薄雾+短暂云，薄雾+少云，薄雾
    3. 小雪，小雨+雷雨+散云，小雨+散云
    4. 大雨+冰粒+雷暴+薄雾，雪+雾
- temp：标准化温度（摄氏度）
    计算公式：(t-t_min)/(t_max-t_min), t_min = -8, t_max = +39（仅在小时范围内）
- atemp：标准化体表温度（摄氏度）
    计算公式：(t-t_min)/(t_max-t_min), t_min = -16, t_max = +50 (仅在小时范围内)
- hum：归一化湿度。值除以100（最大值）
- windspeed：归一化风速。值除以67（最大值）
- casual：临时用户数
- registered：注册用户数
- cnt：租赁自行车总数，包括临时用户和注册用户

## 项目概述

本项目使用线性回归模型预测共享单车的需求量。通过分析影响共享单车使用的各种因素（如天气、季节、温度等），构建一个能够准确预测每日单车租赁总量的模型。

## 技术栈

- Python 3
- pandas：数据处理和分析
- scikit-learn：机器学习模型构建和评估
- matplotlib：数据可视化

## 项目结构

```
LinearRegression_Bike/
├── data/
│   └── bike-day.csv      # 按日统计的共享单车数据集
├── bikePredict.py        # 主要代码文件，包含数据处理、模型训练和评估
├── READ_CN.md            # 中文项目说明文档
└── README_EN.md          # 英文项目说明文档
```

## 实现步骤

1. **数据预处理**：
   - 读取CSV格式的数据集
   - 移除不相关特征（如'instant'、'dteday'）
   - 移除'casual'和'registered'特征，因为它们的和就是我们要预测的目标'cnt'

2. **数据集划分**：
   - 将数据集分为训练集(70%)和测试集(30%)
   - 使用固定的随机种子(random_state=42)确保结果可复现

3. **模型训练**：
   - 使用scikit-learn的LinearRegression模型
   - 使用训练集数据拟合模型

4. **模型评估**：
   - 在测试集上进行预测
   - 计算平均绝对误差(MAE)和均方误差(MSE)
   - 绘制预测值与实际值的对比曲线

## 运行方法

确保已安装所需的Python库后，在项目根目录下运行：

```bash
python bikePredict.py
```

## 结果分析

模型会输出MAE和MSE指标，用于评估预测准确性。同时，会生成一个可视化图表，展示预测值与实际值的对比，帮助直观理解模型性能。

## 未来改进方向

1. 尝试更复杂的模型，如随机森林或梯度提升树
2. 进行特征工程，创建新的特征或转换现有特征
3. 使用交叉验证优化模型超参数
4. 考虑时间序列特性，使用时间序列预测方法
5. 分析特征重要性，了解哪些因素对共享单车需求影响最大